<view class="room-info">
  <text>自习室: {{roomName}}</text>
  </view>

<view class="seat-grid">
  <view
    wx:for="{{seats}}"
    wx:key="id"
    class="seat {{item.status}}"
    data-index="{{index}}"
    bindtap="onSeatClick"
  >
    {{index + 1}}
  </view>
</view>

<view class="modal-mask" wx:if="{{showReservationModal}}" catchtouchmove="preventTouchMove">
  <view class="modal-dialog">
    <view class="modal-title">预约座位 {{selectedSeatIndex !== null ? selectedSeatIndex + 1 : ''}}</view>
    <view class="modal-content">
      <view class="form-item">
        <text>日期:</text>
        <picker mode="date" value="{{selectedDate}}" start="{{minDate}}" bindchange="bindDateChange">
          <view class="picker-value">
            {{selectedDate}}
          </view>
        </picker>
      </view>
      <view class="form-item">
        <text>开始时间:</text>
        <picker mode="time" value="{{startTime}}" start="00:00" end="23:59" bindchange="bindStartTimeChange">
           <view class="picker-value">
            {{startTime}}
          </view>
        </picker>
      </view>
       <view class="form-item">
        <text>结束时间:</text>
        <picker mode="time" value="{{endTime}}" start="00:00" end="23:59" bindchange="bindEndTimeChange">
          <view class="picker-value">
            {{endTime}}
          </view>
        </picker>
      </view>
    </view>
    <view class="modal-footer">
      <button class="modal-button cancel" bindtap="cancelReservationSelection">取消</button>
      <button class="modal-button confirm" bindtap="confirmReservation">确定预约</button>
    </view>
  </view>
</view>

<view class="modal-mask" wx:if="{{showCancelModal}}" catchtouchmove="preventTouchMove">
    <view class="modal-dialog">
        <view class="modal-title">确认操作</view>
        <view class="modal-content">
            <text>{{cancelModalMessage}}</text>
        </view>
        <view class="modal-footer">
            <button class="modal-button cancel" bindtap="cancelCancellationAction">返回</button>
            <button class="modal-button confirm" bindtap="confirmCancellation">确认取消</button>
        </view>
    </view>
</view>

